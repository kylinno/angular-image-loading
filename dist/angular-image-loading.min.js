!function(){"use strict";function n(n){return{restrict:"E",scope:{isLoading:"@",preloadBgImage:"@"},templateUrl:"preload-page.htm",link:function(n,e,i){if(n.$watch("isLoading",function(e,i){n.showMe=JSON.parse(e)}),n.click=function(){n.showMe=!1},void 0!=n.preloadBgImage){var t=e.find("div");t.css({"background-image":'url("'+n.preloadBgImage+'")'})}}}}function e(){return{restrict:"A",link:function(n,e,i){n.$watch("ngSrc",function(){e.hide(),e.after('<i class="fa fa-spinner fa-lg fa-spin"></i>')}),e.on("load",function(){e.show(),e.next("i.fa-spinner").remove()})}}}function i(){return{restrict:"E",template:"<div/>",transclude:!1,replace:!0,scope:{imgSrc:"@",spinnerSrc:"@"},link:function(n,e,i){function t(){o.css({visibility:"hidden"}),e.addClass(i.spinnerClass)}function a(){o.css({visibility:"visible"}),e.removeClass(i.spinnerClass)}function r(){var n=e.prop("offsetWidth"),t=i.heightMultiplier*n;n&&t&&e.css("height",t+"px")}r();var o=angular.element(new Image),s=o.on("load",function(n){a()}),c=o.on("error",function(n){e.removeClass(i.spinnerClass)});o.attr("src",i.imgSrc),t(),e.append(o),e.addClass(i.imgLoadingClass),n.$on("destroy",function(){s(),c()})}}}angular.module("kylinno.angular",[]).directive("pageLoading",n).directive("spinnerLoading",e).directive("imgLoading",i).run(["$templateCache",function(n){var e='<div  ng-show="showMe" style = "padding-top: 50%;background-repeat: no-repeat;background-position:center center;"></div>';n.put("preload-page.htm",e)}]),n.$inject=["$templateCache"],e.$inject=[],i.$inject=[]}();
